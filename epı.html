<html style="background-color: pink;">
    
<canvas id='insan' width='800' height='600'> </canvas>
<script>
var sayi = 0
var yürütme = false
var sayi2 = 0
var canvas;
var press = false
var canvasContext;
var animasyon;
var topX = random(10,790)
var topY = 0
var topHY = 5;
var solcubukY = 580;
var FPS = 40
var kaleY = random(25,550);
var kaleHY = -5;
var elmalar = []
const PADDLE_HEIGHT = 150;
const KALE_HEIGHT = 200
function calculateMousePos(evt) {
	var rect = canvas.getBoundingClientRect();
	var root = document.documentElement;
	var mouseX = evt.clientX - rect.left - root.scrollLeft;
	var mouseY = evt.clientY - rect.top - root.scrollTop;
	return {
		x:mouseX,
		y:mouseY
	};
}

function random(min,max){
    return min + Math.floor((max - min) * Math.random());
    console.log(random)
    
    
   
}
window.addEventListener('keydown',this.check,false);
function check(e){
    var code = e.keyCode;
    
    if(code === 32){
        
if(yürütme === true) return
        animasyon()
        press = true
        yürütme = true
    }
}


resim = setInterval(a ,1000/FPS)
setTimeout(function(){
    clearInterval(resim)
},33)
press
window.onload = function(){
  
    canvas = document.getElementById('insan')
    canvasContext = canvas.getContext('2d')
    
}
function animasyon(){
  animasonInt = setInterval(a,1000/FPS)


    canvas.addEventListener('mousemove',
		function(evt) {
			var mousePos = calculateMousePos(evt);
			solcubukY = mousePos.x - (PADDLE_HEIGHT/2)
		});
}
function a(){
    h()
    ç()
}


function h(){
    topY = topY + topHY;
    
    kaleY = kaleY + kaleHY;
    if(topY > 580) {
        if(topX > solcubukY &&
        topX < solcubukY + PADDLE_HEIGHT){
topY = 0
topX = random(10,790)
sayi = sayi + 1


       
    }else{
        topY = 0
        sayi2 = sayi2 + 1
    }}

    
    
    
    
    if(kaleY > 550) {
        kaleHY = -kaleHY
    }
    if(kaleY < 20) {
        kaleHY = -kaleHY
    }
   
    
    
}


function ç(){
    if (sayi >= 10){
        alert('YOU WINS!!')
        
    }
    if (sayi2 >= 3){
        alert('YOU LOSE!!')
        
    }
    r(0,0,canvas.width,canvas.height,'cyan')
    
    canvasContext.font = "50px Georgia";
    canvasContext.fillStyle = "black"
           canvasContext.fillText(sayi+ '/10', 275, 100);
           canvasContext.font = "50px Georgia";
    canvasContext.fillStyle = "black"
           canvasContext.fillText(sayi2+ '/3', 420, 100);
    r(solcubukY,590,PADDLE_HEIGHT,10,'brown')

  
    
    
   
elmalar.forEach(function(){
    topX = random(10,790)
})
    
    rÇ(topX,topY,15,'red');
    

   



if (press === true){
   
    

    
}

    if(press === false){  
r(0,0,canvas.width,canvas.height,'red')
canvasContext.font ='50px Arial'
canvasContext.fillStyle ='black'
canvasContext.fillText('PRESS "SPACE" TO START', 100, 500)
canvasContext.fillText('APPLE GIRL',275, 150)
 }





    

}
for(var i=0; i< 100 ;i++)
{
    elmalar.forEach(function(){
        topX = random(10,590)
    })
    elmalar[i] =  rÇ(topX,topY,15,'red');
    
}


function rÇ(MX,MY,yç,renk) {
    canvasContext.fillStyle = renk
    canvasContext.beginPath()
    canvasContext.arc(MX,MY,yç,0,Math.PI*2, true)
    canvasContext.fill();
}
function r(solX,üstY, width,height,renk){
    canvasContext.fillStyle = renk;
    canvasContext.fillRect(solX,üstY, width,height)
}

</script>









</html>